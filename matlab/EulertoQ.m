function q = EulertoQ(euler)
    c = cos( euler/2 );
    s = sin( euler/2 );
    
    q = [ c(:,1).*c(:,2).*c(:,3) - s(:,1).*s(:,2).*s(:,3), ...
            c(:,1).*s(:,2).*s(:,3) + s(:,1).*c(:,2).*c(:,3), ...
            c(:,1).*s(:,2).*c(:,3) - s(:,1).*c(:,2).*s(:,3), ...
            c(:,1).*c(:,2).*s(:,3) + s(:,1).*s(:,2).*c(:,3)];
        
     q = [q(2:4), q(1)];
end